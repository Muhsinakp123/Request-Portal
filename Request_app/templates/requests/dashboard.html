{% extends "master.html" %}
{% block title %}Admin Dashboard{% endblock %}

{% block content %}

<div class="d-flex">

    <!-- Sidebar -->
    <div class="sidebar text-white">
        <h4 class="text-center mb-4">Admin Panel</h4>

        <ul class="nav flex-column">

            <li class="nav-item mb-2">
                <a class="nav-link active" href="{% url 'admin_dashboard' %}">
                    <i class="fa fa-home me-2"></i> Dashboard
                </a>
            </li>

            <li class="nav-item mb-2">
    <a class="nav-link" href="{% url 'view_users' %}">
        <i class="fa fa-users me-2"></i> View Users
    </a>
</li>


            <li class="nav-item mb-2">
                <a class="nav-link" href="{% url 'manage_requests' %}">
                    <i class="fa fa-tasks me-2"></i> Manage Requests
                </a>
            </li>

            <li class="nav-item mb-2">
                <a class="nav-link" href="{% url 'reports' %}">
                    <i class="fa fa-chart-line me-2"></i> Reports
                </a>
            </li>

            <li class="nav-item mt-4">
                <a class="nav-link" href="{% url 'logout' %}">
                    <i class="fa fa-sign-out me-2"></i> Logout
                </a>
            </li>
        </ul>
    </div>

    <!-- Main content -->
    <div class="main-content">

        <!-- Title -->
        <h2 class="mb-3">Dashboard Overview</h2>

        <!-- Welcome Box -->
        <div class="welcome-box text-center mb-4">
            <h5>Welcome, <strong>{{ request.user.username }}</strong></h5>
        </div>

        <!-- Stat Cards -->
        <div class="row">

            <div class="col-md-3 mb-3">
                <div class="card stat-card p-3 text-center shadow-sm">
                    <i class="fa fa-list-alt stat-icon text-primary mb-2"></i>
                    <h6>Total Requests</h6>
                    <h3>{{ total_requests }}</h3>
                </div>
            </div>

            <div class="col-md-3 mb-3">
                <div class="card stat-card p-3 text-center shadow-sm">
                    <i class="fa fa-clock stat-icon text-warning mb-2"></i>
                    <h6>Pending</h6>
                    <h3>{{ pending_requests }}</h3>
                </div>
            </div>

            <div class="col-md-3 mb-3">
                <div class="card stat-card p-3 text-center shadow-sm">
                    <i class="fa fa-spinner stat-icon text-info mb-2"></i>
                    <h6>In Progress</h6>
                    <h3>{{ in_progress }}</h3>
                </div>
            </div>

            <div class="col-md-3 mb-3">
                <div class="card stat-card p-3 text-center shadow-sm">
                    <i class="fa fa-check-circle stat-icon text-success mb-2"></i>
                    <h6>Resolved</h6>
                    <h3>{{ resolved }}</h3>
                </div>
            </div>

        </div>

    </div>
</div>

{% endblock %}
